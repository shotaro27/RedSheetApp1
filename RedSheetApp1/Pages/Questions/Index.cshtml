@page
@model RedSheetApp1.Pages.Questions.IndexModel

@{
    ViewData["Title"] = "問題一覧";
}

<h3 class="text-center">
    問題一覧　<a asp-page="Create" class="btn btn-outline-primary">新規作成</a>
</h3>
<table class="table table-striped w-auto row" style="table-layout: fixed">
    <tbody class="col-md-8 offset-md-2">
@foreach (var item in Model.QuestionSets) {
        <tr class="row focus-color" onclick="goQuestion(@item.Question.QuestionID)">
            <td class="d-block d-sm-table-cell col-12 col-sm-6">
                <div class="question-content">
                    @Html.DisplayFor(modelItem => item.Question.Title)
                </div>
            </td>
            <td class="d-block d-sm-table-cell col-12 col-sm-6">
                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: @($"{Math.Round(item.Progress * 100)}%");"
                            aria-valuenow="@(Math.Round(item.Progress * 100))" aria-valuemin="0" aria-valuemax="100">
                    </div>
                </div>
            </td>
        </tr>
}
    </tbody>
</table>

<script>
    const goQuestion = (id) => {
        location.href = `./Questions/Details?id=${id}`;
    }
</script>